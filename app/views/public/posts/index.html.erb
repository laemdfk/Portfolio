<h6>Public::Posts#index</h6>
<% if flash[:notice] %>
 <div class="alert alert-success" role="alert">
 <p class="notice text-center" style="color:green;"><%= flash[:notice] %></p></div>
<% end %>
<main>
 <!--みんなの写真の上に、グーグルマップを配置できるようにしたい-->

    <div class="col-md-2">
     <h2>みんなの写真</h2>
      <!--写真を左側空白に配列し、それぞれ写真もリンクにする-->
       <% @posts.each do |post| %>
          <% post.post_images.each do |image| %>
           <%= link_to image_tag(image, width:100), public_enduser_path(post.end_user.id)  %>
          <% end %>
        <% end %>
       </div>


      <div class="col-md-8 offset-md-1">
        <h2>みんなの投稿</h2>
        <table class="table table-hover table-inverse">
          <thead>
            <tr>
             <th>投稿者</th>
             <th>タイトル</th>
             <th></th>
             <th colspan="3"></th>
             </tr>
           </thead>
            <tbody>
              <% @posts.each do |post| %>
               <tr>
                <td><%= post.end_user.nickname %></td>
                <td><%= link_to post.title, public_post_path(post.id) %></td>
                <td>コメント数:<%= post.post_comments.count %></td>
                <td>
                  <% @tag_list.each do |list| %>
                   タグ:<%= list.name %><%= "(#{list.posts.count})" %>
                  <% end %>
                 </td>
                 <td><%= post.tags.map(&:name).join(',') %></td>      <!--map(&:name) ＝配列の要素一つ一つを、後ろに指定した要素の型に変換し、 join(', ')指定した文字を区切り、連結させる-->
                </tr>
             <% end %>
           </tbody>
        </table>
        <%= paginate @posts %>
      </div>
  </main>
